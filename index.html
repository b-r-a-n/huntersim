<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script>const whTooltips = {colorLinks: true, iconizeLinks: true, renameLinks: true};</script>
        <script src="https://wow.zamimg.com/widgets/power.js"></script>
        <script type="module" src="./js/main.js"></script>
        <script src='pkg/rusthuntersim.js'></script>
        <script>
            const { get_spells, get_stats, run_sim, Stats } = wasm_bindgen;
            async function load_data() {
                await wasm_bindgen('./pkg/rusthuntersim_bg.wasm');
                let passiveBuffs = get_spells('passive_buff');
                let activeBuffs = get_spells('active_buff');
                let activeDebuffs = get_spells('active_debuff');
                let abilities = get_spells('ability');
                return {
                    passiveBuffs: passiveBuffs, 
                    activeBuffs: activeBuffs, 
                    activeDebuffs: activeDebuffs,
                    abilities: abilities
                };
            }
        </script>
        <link rel='stylesheet' href='styles.css'></style>
        <title>TBC Hunter Sim</title>
    </head>
    <body>
        <div id='settings'>
            <div id='topgrid' class='fieldsets'>
                <fieldset id='config'>
                    <legend>Settings</legend>
                    <div class='formgrid'>
                        <span>Fight Duration</span>
                        <input type='number' id='fightDuration'></input>
                        <span>Iterations</span>
                        <input type='number' id='iterations'></input>
                        <span>Random Seed</span>
                        <input type='number' id='randomSeed'></input>
                        <span>Target Armor</span>
                        <input type='number' id='targetArmor'></input>
                        <div class='tt'><span>Target Type</span>
                            <div class='ttt'><span>Target types are not implemented yet (e.g. humanoid slaying bonus)</span></div>
                        </div>
                        <select id='targetType'><option value='other'>Other</option></select>
                        <div class='tt'><span>Pet Family</span>
                            <div class='ttt'><span>Other pet types not implemented yet.</span></div>
                        </div>
                        <select id='petFamily'><option value='ravager' selected>Ravager</option></select>
                        <div class='tt'><a href='https://tbc.wowhead.com/talent-calc/hunter'>Talents</a>
                            <div class='ttt'><span>Copy the part at the end of the wowhead talent url. It will look like talent-calc/hunter/###COPY#THIS###.</span></div>
                        </div>
                        <input type='text' id='encodedTalents'></input>
                    </div>
                    <div class='btn' id='runButton'>Run</div>
                </fieldset>
                <fieldset id='character'><legend>Items</legend></legend><div id='items'></div><hr><div id='stats'></div></fieldset>
                <fieldset id='result'><legend>Result</legend></fieldset>
                <fieldset id='history'><legend>History</legend></fieldset>
                <fieldset id='talents'></fieldset>
            </div>
            <div id='newgrid' class='fieldsets'>
                <fieldset id='races'></fieldset>
                <fieldset id='passiveBuffs'></fieldset>
                <fieldset id='activatedBuffs'></fieldset>
                <fieldset id='activatedDebuffs'></fieldset>
                <fieldset id='activatedItems'></fieldset>
                <fieldset id='abilities'></fieldset>
                <fieldset id='mhStones'></fieldset>
                <fieldset id='ohStones'></fieldset>
            </div>
        </div>
        <div class='modal' id='picker'></div>
    </body>
</html>